<!DOCTYPE html>
<html ng-app="widgetApp">
<head>
  <meta charset="utf-8">
  <title>Angular Stack Setup</title>
  <!-- inject:js -->
  <!-- endinject -->
  <!-- inject:css -->
  <!-- endinject -->
</head>
<body class="sans-serif bg-dark-gray" ng-controller="WidgetCtrl as widgets">
  <h1 class="light-yellow">Hello</h1>
  <div gridster>
      <div class="ba pa3 bg-dark-blue moon-gray" gridster-item="item" ng-repeat="item in widgets.all">
        <p>{{item.data}}</p>
        <p>{{item.sizeX}}, {{item.sizeY}}</p>
        <div ng-if="item.type === 'weather'">
          <h2>Weather</h2>
          <p><b>{{item.data.name}}: </b>{{item.data.weather[0].main}}, {{ (item.data.main.temp - 273.15).toFixed(2)}}&deg;C</p>
        </div>
        <h2 ng-if="item.type === 'news' && item.data.status != 'ok'">Widget failed to load :(</h2>
        <div ng-if="item.type === 'news' && item.data.status === 'ok'">
          <img style="max-width: 100%; max-height: 50%" ng-if="item.sizeY > 1 && item.sizeX > 1" ng-src="{{ item.data.articles[0].urlToImage }}" alt="">
          <h4>{{ item.data.articles[0].author }}</h4>
          <h3><a target="_blank" class="white dim" href="{{item.data.articles[0].url}}">{{ item.data.articles[0].title }}</a></h3>
          <p>{{ item.data.articles[0].description }}</p>

        </div>
        <!-- <p>{{ item.data }}</p> -->
      </div>
  </div>
</body>
</html>
